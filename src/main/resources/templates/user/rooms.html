<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Th√¥ng tin ph√≤ng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    body {
      background-color: #f1f3f5;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #1e293b;
    }

    .user-header {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 0.6rem;
      text-align: center;
      color: #1e3a8a;
    }

    .info-card {
      border-radius: 4px;
      padding: 8px;
      background: linear-gradient(135deg, #3b82f6, #60a5fa);
      color: #ffffff;
      text-align: center;
      transition: all 0.2s ease-in-out;
      box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    }

    .info-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    }

    .info-card h2 {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 2px;
      color: #ffffff;
    }

    .info-card p {
      font-size: 0.75rem;
      margin: 0;
      color: #e2e8f0;
    }

    .card-icon {
      font-size: 1.6rem;
      margin-bottom: 5px;
      color: #ffffff;
    }

    .welcome-section {
      background: linear-gradient(135deg, #10b981, #34d399);
      color: #ffffff;
      border-radius: 4px;
      padding: 8px;
      margin-bottom: 8px;
      text-align: center;
      box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    }

    .welcome-section h1 {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .welcome-section p {
      font-size: 0.75rem;
      margin: 0;
      opacity: 0.9;
    }

    header h2 {
      font-size: 1.2rem !important;
    }
    header .nav-link {
      font-size: 0.65rem !important;
    }

    .table-responsive {
      margin-top: 0.8rem;
      box-shadow: 0 10px 25px rgba(0,0,0,0.35);
      border-radius: 4px;
      overflow: hidden;
    }
    .table-dark th {
      background-color: #212529;
      color: #ffffff;
      font-size: 0.78rem;
    }
    .table-bordered th, .table-bordered td {
      border-color: #dee2e6;
      font-size: 0.73rem;
    }
    .table-hover tbody tr:hover {
      background-color: #e9ecef;
    }
    .badge {
      font-size: 0.5em;
      padding: 0.1em 0.25em;
    }

    @media (max-width: 768px) {
      .user-header {
        font-size: 0.9rem;
      }
      .info-card {
        padding: 5px;
      }
      .info-card h2 {
        font-size: 1.1rem;
      }
      .welcome-section h1 {
        font-size: 1rem;
      }
      .card-icon {
        font-size: 1.3rem;
      }
      header h2 {
        font-size: 0.9rem !important;
      }
      header .nav-link {
        font-size: 0.6rem !important;
      }
      .table-bordered th, .table-bordered td {
        font-size: 0.7rem;
      }
    }
  </style>
</head>
<body>

<!-- Header -->
<header>
  <div class="container d-flex justify-content-between align-items-center">
    <h2 class="m-0" style="font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 2.2rem; font-weight: 700; color: #ffffff;">üè® Hotel Manager</h2>
    <nav>
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link text-light" href="/user/rooms" style="font-family: 'Inter', sans-serif; font-size: 1.1rem; color: #d1d5db; transition: color 0.2s ease;">Th√¥ng tin ph√≤ng</a>
        </li>
      </ul>
    </nav>
  </div>
  <style>
    header {
      background: #1e3a8a;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      padding: 0.4rem;
    }
    .nav-link:hover {
      color: #ffffff !important;
    }
    @media (max-width: 768px) {
      header {
        padding: 0.3rem;
      }
      h2 {
        font-size: 1rem;
      }
      .nav-link {
        font-size: 0.65rem;
      }
    }
  </style>
</header>

<div class="container mt-0">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <h1>üåü Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi Hotel Manager</h1>
    <p>Xem th√¥ng tin t·ªïng quan v·ªÅ ph√≤ng c·ªßa ch√∫ng t√¥i</p>
  </div>

  <!-- Room Information Cards -->
  <div class="row justify-content-center mb-0 g-0">
    <div class="col-md-3">
      <div class="info-card">
        <i class="fas fa-bed card-icon"></i>
        <h2 th:text="${totalRooms}">0</h2>
        <p>T·ªïng s·ªë ph√≤ng</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="info-card" style="background: linear-gradient(135deg, #10b981, #34d399);">
        <i class="fas fa-door-open card-icon"></i>
        <h2 th:text="${emptyRooms}">0</h2>
        <p>Ph√≤ng tr·ªëng</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="info-card" style="background: linear-gradient(135deg, #ef4444, #f87171);">
        <i class="fas fa-user-friends card-icon"></i>
        <h2 th:text="${occupiedRooms}">0</h2>
        <p>Ph√≤ng ƒëang s·ª≠ d·ª•ng</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="info-card" style="background: linear-gradient(135deg, #f59e0b, #fbbf24); color: #1e293b;">
        <i class="fas fa-calendar-check card-icon"></i>
        <h2 th:text="${bookedRooms}">0</h2>
        <p>Ph√≤ng ƒë√£ ƒë·∫∑t</p>
      </div>
    </div>
  </div>

  <!-- Room List Table -->
  <h2 class="text-center mb-0 user-header">Danh s√°ch ph√≤ng chi ti·∫øt</h2>
  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>S·ªë ph√≤ng</th>
        <th>Tr·∫°ng th√°i</th>
        <th>Lo·∫°i ph√≤ng</th>
        <th>Gi√° m·ªói ƒë√™m</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="room, iterStat : ${rooms}">
        <th th:text="${iterStat.index + 1}">1</th>
        <td th:text="${room.roomNumber}">101</td>
        <td>
          <span th:classappend="'badge ' +
                        (${room.status.name()} == 'EMPTY' ? 'bg-success' :
                        (${room.status.name()} == 'BOOKED' ? 'bg-warning text-dark' :
                        (${room.status.name()} == 'OCCUPIED' ? 'bg-danger' : 'bg-secondary')))"
                th:text="${room.status.name()}">
                    </span>
        </td>
        <td th:text="${room.roomType != null ? room.roomType.name : '-'}">Ph√≤ng ƒë∆°n</td>
        <td th:text="${room.roomType != null ? #numbers.formatDecimal(room.roomType.pricePerNight, 0, 'COMMA', 0, 'POINT') + ' ƒë' : '-'}">500.000 ƒë</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

</body>
</html>
